<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Theodore (Teddy) Lazebnik</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Theodore (Teddy) Lazebnik personal website" name="description">
    <meta content="Teddy Lazebnik" name="author">
	<link rel='icon' href='../img/favicon.ico' type='image/x-icon'/ >
	<!-- css -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	<link href="../css/teddy_style.css" rel="stylesheet">
	
	<!-- P5 library -->
	<script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-154895667-1"></script>
	<script src="../js/submission_table.js"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-154895667-1');
	</script>
	<!-- Hotjar Tracking Code for http://teddylazebnik.info/ -->
	<script>
		(function(h,o,t,j,a,r){
			h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
			h._hjSettings={hjid:1812929,hjsv:6};
			a=o.getElementsByTagName('head')[0];
			r=o.createElement('script');r.async=1;
			r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
			a.appendChild(r);
		})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
	</script>
</head>

<body>
	<div id="progressBar"></div>
	<div id="ScrollPath"></div>
	<div class="row">
			<div class="col-lg-12 col-md-12 col-sm-12 mobile-space">
				<nav class="navbar navbar-expand-lg">
				  <a class="navbar-brand" href="index.html" id="logo">Theodore (Teddy) Lazebnik</a>
				  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<img class="navbar-toggler-icon" src="https://img.icons8.com/ios-filled/50/000000/menu.png"/>
				  </button>

				  <div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav mr-auto">
					  <li class="nav-item form-inline mobile" style="padding-bottom: 10px;">					  
						  <input type="text" class="form-control input-search" id="search-data" type="search" placeholder="Search" aria-label="Search">
						  <div class="input-group-append">
							<button class="btn btn-outline-white btn-search" onclick="return searchPage();"><img src="https://img.icons8.com/android/24/000000/search.png"/></button>
						  </div>
					  </li>
					  <li class="nav-item">
						<a class="nav-link active" href="index.html">Short Bio</a>
					  </li>
					  <li class="nav-item">
						<a class="nav-link" href="publications.html">Publications</a>
					  </li>
					  <li class="nav-item">
						<a class="nav-link" href="opensource.html">Open Resources</a>
					  </li>
					  <li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						  Teaching
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
						  <a class="dropdown-item" href="courses/deep_leanring.html">Deep Learning</a>
						  <a class="dropdown-item" href="courses/numerical.html">Numerical Analysis</a>
						  <a class="dropdown-item" href="courses/linear_mathematical_optimization.html">Linear Optimization</a>
						  <div class="dropdown-divider"></div>
						  <a class="dropdown-item" href="teaching.html">All classes</a>
						</div>
					  </li>
					  <li class="nav-item">
						<a class="nav-link" href="students.html">Students</a>
					  </li>
					</ul>
					<div class="form-inline my-2 my-lg-0 desktop">
					  <input type="text" class="form-control input-search" id="search-data-2" type="search" placeholder="Search" aria-label="Search">
					  <div class="input-group-append">
						<button class="btn btn-outline-white btn-search" onclick="return searchPage();"><img src="https://img.icons8.com/android/24/000000/search.png"/></button>
					  </div>
					</div>
				  </div>
				</nav>
				<div class="body">
					<div class="fluid-container">
						<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12">
							<div class="info" style="text-align: center;">
										<div class="alert alert-danger alert-dismissible fade show" role="alert" style="display: none" id="error-search">
										  <strong>Page Not found</strong>, I am still working on our inner website search engine. Try again or use the navigation bar.
										  <button type="button" class="close" onclick="return closeSearchAlert()" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										  </button>
										</div>
								<h3> Random Images of shapes (HW 2 - Training sample) </h3>
									<p>We will do shape classifier in the course. This is a sample on a JS code which generates the shapes tagged for train and test.<br> Click to save image...</p>
									<button class="btn btn-danger" alt="Add Noise"  onclick="changeNoise();" id="noiseButton">Add  Noise</button><br>
									<div id="canvas_slider"></div>
									<div id="canvas_container">
										
									</div>
									<p>Allow multiple file download before using and make sure you download to an empty folder and not the Computer's desktop.</p>
									<button class="btn btn-primary" alt="Download Train Set" onclick="downloadTrainSet();">Download Train Set (10,000 samples)</button>
									<button class="btn btn-primary" alt="Download Test Set"  onclick="downloadTestSet();">Download Test Set (500 samples)</button>
							</div>
						</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- Random image generator -->
	<script>
	
	let shaper; // declare object
	let tag; // declare tag
	let slider; // the noise slider
	let hasNoise = false; // noise flag
	
	function changeNoise()
	{
		var noiseBtn = document.getElementById("noiseButton");
		if (hasNoise)
		{
			noiseButton.innerHTML = "Add Noise";
			noiseButton.classList.add("btn-danger"); 
			noiseButton.classList.remove("btn-success");
		}
		else
		{
			noiseButton.innerHTML = "Remove Noise";
			noiseButton.classList.add("btn-success");
			noiseButton.classList.remove("btn-danger"); 
		}
		// change state
		hasNoise = !hasNoise;
	}
	
	const SHAPE_TYPES = 
	[
		1, // elipse
		2, // circle
		3, // rect
		4, // square
		5 // triangle
	]
	
	// general shape type
	class Shape 
	{
		constructor() 
		{
			this.x = 30 + random(width - 60);
			this.y = 30 + random(height - 60);
			this.type = SHAPE_TYPES[Math.floor(Math.random() * SHAPE_TYPES.length)];
		}

		display() 
		{
			switch(this.type)
			{
				case 1: //SHAPE_TYPES.elipse:
					ellipse(this.x, this.y, 10 + random(20), 10 + random(20));
					text('ellipse', 5, 20);
					tag = "ellipse";
					break;
				case 2: //SHAPE_TYPES.circle:
					var r = 10 + random(20);
					ellipse(this.x, this.y, r, r);
					text('circle', 5, 20);
					tag = "circle";
					break;
				case 3: //SHAPE_TYPES.rect:
					rect(this.x, this.y, 10 + random(20), 10 + random(20));
					text('rect', 5, 20);
					tag = "rect";
					break;
				case 4: //SHAPE_TYPES.square:
					var size = 10 + random(20);
					rect(this.x, this.y, size, size);
					text('square', 5, 20);
					tag = "square";
					break;
				case 5: //SHAPE_TYPES.triangle:
					triangle(this.x + 10 + random(20), this.y + 10 + random(20), 
							this.x + 10 + random(20), this.y - 10 - random(20),
							this.x - 10 - random(20), this.y - 10 - random(20));
					text('triangle', 5, 20);
					tag = "triangle";
					break;
			}
		}
	}
	
	function setup()
	{
		let cnv = createCanvas(200, 200); // create canvas to draw on
		cnv.parent('canvas_container'); // set the location of the canvas in the right div
		stroke(255); // Set line drawing color to white
		background(0); // set BG to black
		frameRate(24); 
		textSize(16); // the text size
		fill(255);
		slider = createSlider(1, 1001, 100, 25);
		slider.parent('canvas_slider'); // set the location of the slider in the right div
	}
	
	function draw()
	{
		draw_shape();
		frameRate(0.5); // draw once in 2 seconds
	}
	
	function draw_shape()
	{
		background(0); // set BG to black
		shaper = new Shape();
		shaper.display();
		if (hasNoise)
		{
			for(var i = 0; i < slider.value(); i++)
			{
				rect(30 + random(width - 60), 30 + random(height - 60), 1, 1);
			}
		}
	}
	
	/*
	function mouseClicked() 
	{
		draw_shape();
		saveCanvas(tag, 'png');
	}
	*/
	
	function downloadTrainSet()
	{
		let tag_file_data = "";
		noLoop();
		for (var i = 0; i < 10000; i++)
		{
			draw_shape();
			tag_file_data += tag + "\n";
			saveCanvas('train_image_' + i.toString(), 'png');
		}
		downloadasTextFile("train_data_tags.txt", tag_file_data);
		alert("Finished download train set");
	}
	
	function downloadTestSet()
	{
		let tag_file_data = "";
		noLoop();
		for (var i = 0; i < 500; i++)
		{	
			draw_shape()
			tag_file_data += tag + "\n";
			saveCanvas('test_image_' + i.toString(), 'png');		
		}
		downloadasTextFile("test_data_tags.txt", tag_file_data);
		alert("Finished download test set");
	}
	
	function downloadasTextFile(filename, text) {
		var element = document.createElement('a');
		element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
		element.setAttribute('download', filename);

		element.style.display = 'none';
		document.body.appendChild(element);

		element.click();

		document.body.removeChild(element);
	}
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="../js/main.js"></script> 
</body>
</html>